import{a as T,b as l,c as N,d as L,e as u,f as q,g as A,h as G,i as B,j as D,k as V,l as j,m as z,n as W,o as U,p as Y,q as H,r as J,s as K,t as Q,u as X,v as Z,w as $,x as ee,y as te,z as re}from"./chunk-P34KFRS2.js";import{h as O,x as ie}from"./chunk-NURJLKLX.js";import{g as k,i as R}from"./chunk-TGXVOOF4.js";import{Bb as r,Cb as _,Db as F,Fb as I,Na as a,Oa as f,ab as d,ba as S,db as m,ib as t,jb as e,kb as c,lb as E,mb as P,qb as g,rb as y}from"./chunk-QGQ54SUM.js";function ne(o,n){o&1&&(t(0,"mat-error"),r(1,"Name is required"),e())}function ae(o,n){o&1&&(t(0,"mat-error"),r(1,"Minimum 3 characters"),e())}function me(o,n){o&1&&(t(0,"mat-error"),r(1,"Email is required"),e())}function le(o,n){o&1&&(t(0,"mat-error"),r(1,"Enter a valid email"),e())}function se(o,n){o&1&&(t(0,"mat-error"),r(1,"Password is required"),e())}function de(o,n){o&1&&(t(0,"mat-error"),r(1,"Minimum 6 characters"),e())}function pe(o,n){o&1&&(t(0,"mat-error"),r(1," Passwords do not match "),e())}function ce(o,n){o&1&&(t(0,"mat-error"),r(1," Confirm Password is required "),e())}function ge(o,n){if(o&1&&(t(0,"div",20)(1,"mat-icon"),r(2,"error"),e(),r(3),e()),o&2){let s=y();a(3),F(" ",s.errorMessage," ")}}function ue(o,n){o&1&&c(0,"mat-spinner",21)}function fe(o,n){o&1&&(E(0),t(1,"mat-icon",22),r(2,"person_add"),e(),t(3,"span"),r(4,"Sign Up"),e(),P())}var oe=class o{constructor(n,s,i){this.fb=n;this.authService=s;this.router=i}registerForm;hidePassword=!0;hideConfirmPassword=!0;isLoading=!1;errorMessage="";ngOnInit(){if(this.authService.isLoggedIn()){this.router.navigate(["/dashboard"]);return}this.registerForm=this.fb.group({name:new u("",[l.required,l.minLength(3)]),email:new u("",[l.required,l.email]),password:new u("",[l.required,l.minLength(6)]),confirmPassword:new u("",[l.required])},{validators:this.passwordMatchValidator}),this.registerForm.valueChanges.subscribe(()=>{this.registerForm.get("password")?.value&&this.registerForm.get("confirmPassword")?.value&&(this.registerForm.get("password").value!==this.registerForm.get("confirmPassword").value?this.registerForm.get("confirmPassword")?.setErrors({mismatch:!0}):this.registerForm.get("confirmPassword")?.hasError("mismatch")&&this.registerForm.get("confirmPassword")?.setErrors(null))})}passwordMatchValidator(n){return n.get("password").value===n.get("confirmPassword").value?null:{mismatch:!0}}onSubmit(){this.registerForm.valid&&(this.isLoading=!0,this.errorMessage="",this.authService.register(this.registerForm.value).subscribe({next:n=>{this.isLoading=!1,console.log("Registration successful:",n),this.router.navigate(["/login"])},error:n=>{this.isLoading=!1,console.error("Registration error:",n),this.errorMessage=n.error?.error||"Registration failed. Please try again."}}))}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(s){return new(s||o)(f(B),f(ie),f(O))};static \u0275cmp=S({type:o,selectors:[["app-register"]],standalone:!0,features:[I],decls:56,vars:17,consts:[[1,"login-container"],[1,"login-card","animate-fade-up"],[1,"login-header"],[1,"title-text"],[1,"subtitle"],[1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","text","formControlName","name","placeholder","Enter your full name"],["matPrefix",""],[4,"ngIf"],["matInput","","type","email","formControlName","email","placeholder","Enter your email"],["matInput","","formControlName","password","placeholder","Enter your password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","confirmPassword","placeholder","Confirm your password",3,"type"],["class","error-message animate-slide-up",4,"ngIf"],["mat-raised-button","","type","submit",1,"login-button",3,"disabled"],[1,"button-content"],["diameter","20","strokeWidth","3",4,"ngIf"],[1,"login-footer"],[1,"link",3,"click"],[1,"error-message","animate-slide-up"],["diameter","20","strokeWidth","3"],[1,"button-icon"]],template:function(s,i){if(s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),r(4,"Task Manager"),e(),t(5,"p",4),r(6,"Create a new account to get started."),e()(),t(7,"form",5),g("ngSubmit",function(){return i.onSubmit()}),t(8,"mat-form-field",6)(9,"mat-label"),r(10,"Name"),e(),c(11,"input",7),t(12,"mat-icon",8),r(13,"person"),e(),d(14,ne,2,0,"mat-error",9)(15,ae,2,0,"mat-error",9),e(),t(16,"mat-form-field",6)(17,"mat-label"),r(18,"Email"),e(),c(19,"input",10),t(20,"mat-icon",8),r(21,"email"),e(),d(22,me,2,0,"mat-error",9)(23,le,2,0,"mat-error",9),e(),t(24,"mat-form-field",6)(25,"mat-label"),r(26,"Password"),e(),c(27,"input",11),t(28,"mat-icon",8),r(29,"lock"),e(),t(30,"button",12),g("click",function(){return i.hidePassword=!i.hidePassword}),t(31,"mat-icon"),r(32),e()(),d(33,se,2,0,"mat-error",9)(34,de,2,0,"mat-error",9),e(),t(35,"mat-form-field",6)(36,"mat-label"),r(37,"Confirm Password"),e(),c(38,"input",13),t(39,"mat-icon",8),r(40,"lock"),e(),t(41,"button",12),g("click",function(){return i.hideConfirmPassword=!i.hideConfirmPassword}),t(42,"mat-icon"),r(43),e()(),d(44,pe,2,0,"mat-error",9)(45,ce,2,0,"mat-error",9),e(),d(46,ge,4,1,"div",14),t(47,"button",15)(48,"div",16),d(49,ue,1,0,"mat-spinner",17)(50,fe,5,0,"ng-container",9),e()(),t(51,"div",18)(52,"p"),r(53,"Already have an account? "),t(54,"a",19),g("click",function(){return i.goToLogin()}),r(55,"Sign in here"),e()()()()()()),s&2){let p,h,v,b,C,x,w,M;a(7),m("formGroup",i.registerForm),a(7),m("ngIf",(p=i.registerForm.get("name"))==null?null:p.hasError("required")),a(),m("ngIf",(h=i.registerForm.get("name"))==null?null:h.hasError("minlength")),a(7),m("ngIf",(v=i.registerForm.get("email"))==null?null:v.hasError("required")),a(),m("ngIf",(b=i.registerForm.get("email"))==null?null:b.hasError("email")),a(4),m("type",i.hidePassword?"text":"password"),a(5),_(i.hidePassword?"visibility_off":"visibility"),a(),m("ngIf",(C=i.registerForm.get("password"))==null?null:C.hasError("required")),a(),m("ngIf",(x=i.registerForm.get("password"))==null?null:x.hasError("minlength")),a(4),m("type",i.hideConfirmPassword?"text":"password"),a(5),_(i.hideConfirmPassword?"visibility_off":"visibility"),a(),m("ngIf",i.registerForm.hasError("mismatch")&&((w=i.registerForm.get("confirmPassword"))==null?null:w.touched)),a(),m("ngIf",(M=i.registerForm.get("confirmPassword"))==null?null:M.hasError("required")),a(),m("ngIf",i.errorMessage),a(),m("disabled",i.registerForm.invalid||i.isLoading),a(2),m("ngIf",i.isLoading),a(),m("ngIf",!i.isLoading)}},dependencies:[R,k,D,q,T,N,L,A,G,V,H,Y,j,z,W,U,K,J,Z,Q,X,ee,$,re,te],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,var(--color-dark),var(--color-soft));font-family:Poppins,sans-serif}.login-card[_ngcontent-%COMP%]{width:100%;max-width:420px;padding:40px;background:#fff;border-radius:20px;box-shadow:0 10px 25px #b3379133;text-align:left}.title-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;background:linear-gradient(45deg,var(--color-dark),var(--color-mid));-webkit-background-clip:text;-webkit-text-fill-color:transparent}.subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--color-mid-dark)}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}  .mat-mdc-form-field-outline{border-radius:12px}  .mat-mdc-form-field-label{color:var(--color-mid)!important}  input{color:var(--color-dark)}  .mat-icon{color:var(--color-mid)}mat-error[_ngcontent-%COMP%]{font-size:.9rem;color:#e63972}.error-message[_ngcontent-%COMP%]{background:#e639721a;color:#e63972;padding:12px;border-radius:10px;margin-bottom:20px;display:flex;align-items:center;gap:8px}.login-button[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:25px;font-size:1.1rem;margin:20px 0;color:#fff!important;background:linear-gradient(45deg,var(--color-dark),var(--color-mid-dark))!important;transition:all .3s ease}.login-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #b337914d}.login-button[_ngcontent-%COMP%]:disabled{background:var(--color-light);color:#fff;opacity:.6}.login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-mid-dark)}.login-footer[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:var(--color-dark);font-weight:500;text-decoration:underline;cursor:pointer;transition:color .3s ease}.login-footer[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:var(--color-mid)}"]})};export{oe as RegisterComponent};
